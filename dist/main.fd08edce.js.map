{"version":3,"sources":["main.js"],"names":["$last","$","$siteList","getStr","JSON","parse","localStorage","getItem","hash","logo","url","simplifyUrl","replace","rander","find","remove","forEach","node","index","iconSrc","$li","insertBefore","addClass","$img","on","$removeClass","replaceWith","window","open","e","console","log","stopPropagation","splice","setItem","stringify","prompt","indexOf","push","toUpperCase","onbeforeunload"],"mappings":"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","file":"main.fd08edce.js","sourceRoot":"..\\src","sourcesContent":["const $last = $('.last')\r\nconst $siteList = $('.siteList')\r\nconst getStr = JSON.parse(localStorage.getItem('hash'))\r\nconst hash = getStr || [\r\n    {logo: 'B', url: 'https://www.bilibili.com'},\r\n    {logo: 'W', url: 'https://www.weibo.com'},\r\n    {logo: 'D', url: 'https://www.douyu.com'},\r\n    {logo: 'Z', url: 'https://www.zhihu.com/'},\r\n    {logo: 'X', url: 'https://www.ximalaya.com/'},\r\n    {logo: 'G', url: 'https://github.com/'},\r\n\r\n]\r\nconst simplifyUrl = (url) => {\r\n    return url.replace('https://', '')\r\n        .replace('http://', '')\r\n        .replace('www.', '')\r\n        .replace(/\\/.*/, '')\r\n        .replace('.com', '')\r\n}\r\nconst rander = () => {\r\n    $siteList.find('.site:not(.last)').remove()\r\n    hash.forEach((node, index) => {\r\n        let iconSrc = `${node.url + '/favicon.ico'}`\r\n        const $li = $(`<li class=\"site\">\r\n            <div class=\"icon-wrapper\">${node.logo}</div>\r\n            <div class=\"link\">${simplifyUrl(node.url)}</div>\r\n            <svg class=\"icon close\" aria-hidden=\"true\">\r\n                    <use xlink:href=\"#icon-shanchu\"></use>\r\n                </svg>\r\n        </li>`).insertBefore($last)\r\n            $li.find('.icon-wrapper').addClass(`${simplifyUrl(node.url)}`)\r\n\r\n        const $img = $(`<img class=\"icon-wrapper\" src=\"${iconSrc}\"/>`)\r\n        $img.on('load', () =>{\r\n            const $removeClass = $('.site').find(`${'.'+simplifyUrl(iconSrc)}`)\r\n            $removeClass.replaceWith($img)\r\n        })\r\n        $li.on('click', () => {\r\n            window.open(node.url)\r\n        })\r\n        $li.on('click', '.close', (e) => {\r\n            console.log(1);\r\n            e.stopPropagation()\r\n            hash.splice(index, 1)\r\n            localStorage.setItem('hash', JSON.stringify(hash))\r\n            rander()\r\n        })\r\n    })\r\n}\r\nrander()\r\n\r\n$('.addButton').on('click', () => {\r\n    let url = window.prompt('请输入要添加的网址')\r\n    if (url && url.indexOf('http') !== 0) {\r\n        url = 'https://' + url\r\n    }\r\n    if (url) {\r\n        hash.push({\r\n            logo: simplifyUrl(url)[0].toUpperCase(),\r\n            url: url\r\n        })\r\n        localStorage.setItem('hash', JSON.stringify(hash))\r\n        rander()\r\n    }\r\n})\r\n\r\nwindow.onbeforeunload = () => {\r\n    localStorage.setItem('hash', JSON.stringify(hash))\r\n}\r\n\r\n\r\n\r\n\r\n\r\n"]}