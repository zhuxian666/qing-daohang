{"version":3,"sources":["main.js"],"names":["$last","$","$siteList","getStr","JSON","parse","localStorage","getItem","hash","logo","url","simplifyUrl","replace","findIcon","setStr","setItem","stringify","rander","find","remove","forEach","node","index","console","log","$li","insertBefore","addClass","$img","on","$removeClass","replaceWith","window","open","e","stopPropagation","splice","timeOutEvent","touchstart","setTimeout","css","touchmove","clearTimeout","document","prompt","indexOf","push","toUpperCase","onbeforeunload"],"mappings":"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","file":"main.efd352f6.js","sourceRoot":"..\\src","sourcesContent":["const $last = $(\".last\");\r\nconst $siteList = $(\".siteList\");\r\nconst getStr = JSON.parse(localStorage.getItem(\"hash\"));\r\nconst hash = getStr || [\r\n  { logo: \"B\", url: \"https://www.bilibili.com\" },\r\n  { logo: \"W\", url: \"https://www.weibo.com\" },\r\n  { logo: \"D\", url: \"https://www.douyu.com\" },\r\n  { logo: \"Z\", url: \"https://www.zhihu.com/\" },\r\n  { logo: \"X\", url: \"https://www.ximalaya.com/\" },\r\n  { logo: \"G\", url: \"https://github.com/\" },\r\n];\r\nconst simplifyUrl = (url) => {\r\n  return url\r\n    .replace(\"https://\", \"\")\r\n    .replace(\"http://\", \"\")\r\n    .replace(\"www.\", \"\")\r\n    .replace(/\\..*/, \"\")\r\n};\r\nconst findIcon = (url)=>{\r\n  return 'https://' + url\r\n    .replace(\"https://\", \"\")\r\n    .replace(\"http://\", \"\")\r\n    .replace(/\\/.*/, \"\")\r\n       + \"/favicon.ico\"\r\n}\r\nconst setStr = () => {\r\n  localStorage.setItem(\"hash\", JSON.stringify(hash));\r\n};\r\nconst rander = () => {\r\n  $siteList.find(\".site:not(.last)\").remove();\r\n  hash.forEach((node, index) => {\r\n    console.log(findIcon(node.url));\r\n    const $li = $(`<li class=\"site\">\r\n            <div class=\"icon-wrapper\">${node.logo}</div>\r\n            <div class=\"link\">${simplifyUrl(node.url)}</div>\r\n            <svg class=\"icon close\" aria-hidden=\"true\">\r\n            <use xlink:href=\"#icon-shanchu\"></use>\r\n        </svg></li>`).insertBefore($last);\r\n    $li.find(\".icon-wrapper\").addClass(`${simplifyUrl(node.url)}`);\r\n    const $img = $(`<img class=\"icon-wrapper\" src=\"${findIcon(node.url)}\"/>`);\r\n    $img.on(\"load\", () => {\r\n      const $removeClass = $(\".site\").find(`${\".\" + simplifyUrl(node.url)}`);\r\n      $removeClass.replaceWith($img);\r\n    });\r\n    $li.on(\"click\", () => {\r\n      window.open(node.url);\r\n    });\r\n    $li.on(\"click\", \".close\", (e) => {\r\n      e.stopPropagation();\r\n      hash.splice(index, 1);\r\n      setStr();\r\n      rander();\r\n    });\r\n    let timeOutEvent;\r\n    $li.on({\r\n      touchstart() {\r\n        timeOutEvent = setTimeout(() => {\r\n          $li.find(\".close\").css(\"display\", \"block\");\r\n        }, 800);\r\n      },\r\n      touchmove() {\r\n        clearTimeout(timeOutEvent);\r\n      },\r\n    });\r\n    $(document).on(\"click\", () => {\r\n      $li.find(\".close\").css(\"display\", \"none\");\r\n    });\r\n  });\r\n};\r\nrander();\r\n$(\".addButton\").on(\"click\", () => {\r\n  let url = window.prompt(\"请输入要添加的网址\");\r\n  if (url && url.indexOf(\"http\") !== 0) {\r\n    url = \"https://\" + url;\r\n  }\r\n  if (url) {\r\n    hash.push({\r\n      logo: simplifyUrl(url)[0].toUpperCase(),\r\n      url: url,\r\n    });\r\n    setStr();\r\n    rander();\r\n  }\r\n});\r\nwindow.onbeforeunload = () => {\r\n  setStr();\r\n};\r\n"]}