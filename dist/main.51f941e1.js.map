{"version":3,"sources":["main.js"],"names":["$last","$","$siteList","getStr","JSON","parse","localStorage","getItem","hash","logo","url","simplifyUrl","replace","rander","find","remove","forEach","node","index","iconSrc","$li","insertBefore","addClass","$img","on","$removeClass","replaceWith","window","open","e","stopPropagation","splice","setItem","stringify","$site","event","touchstart","target","lastChild","timeOutEvent","setTimeout","style","display","touchmove","clearTimeout","document","onload","prompt","indexOf","push","toUpperCase","onbeforeunload"],"mappings":"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","file":"main.51f941e1.js","sourceRoot":"..\\src","sourcesContent":["const $last = $(\".last\");\r\nconst $siteList = $(\".siteList\");\r\nconst getStr = JSON.parse(localStorage.getItem(\"hash\"));\r\nconst hash = getStr || [\r\n  { logo: \"B\", url: \"https://www.bilibili.com\" },\r\n  { logo: \"W\", url: \"https://www.weibo.com\" },\r\n  { logo: \"D\", url: \"https://www.douyu.com\" },\r\n  { logo: \"Z\", url: \"https://www.zhihu.com/\" },\r\n  { logo: \"X\", url: \"https://www.ximalaya.com/\" },\r\n  { logo: \"G\", url: \"https://github.com/\" },\r\n];\r\nconst simplifyUrl = (url) => {\r\n  return url\r\n    .replace(\"https://\", \"\")\r\n    .replace(\"http://\", \"\")\r\n    .replace(\"www.\", \"\")\r\n    .replace(/\\/.*/, \"\")\r\n    .replace(\".com\", \"\");\r\n};\r\nconst rander = () => {\r\n  $siteList.find(\".site:not(.last)\").remove();\r\n  hash.forEach((node, index) => {\r\n    let iconSrc = `${node.url + \"/favicon.ico\"}`;\r\n    const $li = $(`<li class=\"site\">\r\n            <div class=\"icon-wrapper\">${node.logo}</div>\r\n            <svg class=\"icon close\" aria-hidden=\"true\">\r\n                    <use xlink:href=\"#icon-shanchu\"></use>\r\n                </svg>\r\n            <div class=\"link\">${simplifyUrl(node.url)}</div>\r\n            </li>`).insertBefore($last)\r\n        $li.find('.icon-wrapper').addClass(`${simplifyUrl(node.url)}`)\r\n        const $img = $(`<img class=\"icon-wrapper\" src=\"${iconSrc}\"/>`)\r\n        $img.on('load', () => {\r\n            const $removeClass = $('.site').find(`${'.' + simplifyUrl(iconSrc)}`)\r\n            $removeClass.replaceWith($img)\r\n        })\r\n\r\n        $li.on('click', () => {\r\n          window.open(node.url)\r\n      })\r\n      $li.on('click', '.close', (e) => {\r\n          e.stopPropagation()\r\n          hash.splice(index, 1)\r\n          localStorage.setItem('hash', JSON.stringify(hash))\r\n          rander()\r\n      })\r\n        const $site = $('site')\r\n        let event\r\n        $site.on({\r\n            touchstart(e) {\r\n                event = e.target.lastChild\r\n                timeOutEvent = setTimeout(() => {\r\n                    if (event){\r\n                        event.style.display = 'block'\r\n                    }\r\n                }, 1000)\r\n            },\r\n            touchmove() {\r\n                clearTimeout(timeOutEvent)\r\n            }, \r\n        })\r\n        $(document).on(\"click\", () => {\r\n            if(event)event.style.display = 'none'\r\n        });\r\n    })\r\n}\r\n\r\nwindow.onload=()=>{\r\n    rander()\r\n}\r\n$('.addButton').on('click', () => {\r\n    let url = window.prompt('请输入要添加的网址')\r\n    if (url && url.indexOf('http') !== 0) {\r\n        url = 'https://' + url\r\n    }\r\n    if (url) {\r\n        hash.push({\r\n            logo: simplifyUrl(url)[0].toUpperCase(),\r\n            url: url\r\n        })\r\n        localStorage.setItem('hash', JSON.stringify(hash))\r\n        rander()\r\n    }\r\n})\r\n\r\nwindow.onbeforeunload = () => {\r\n  localStorage.setItem(\"hash\", JSON.stringify(hash));\r\n};\r\n"]}